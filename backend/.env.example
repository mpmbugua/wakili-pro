# ==============================================
# WAKILI PRO - PRODUCTION ENVIRONMENT CONFIG
# ==============================================

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/wakili_pro"
# For production (Render):
# Render will automatically inject DATABASE_URL from connected Postgres service
# Example: postgresql://user:password@host.render.com/database

# JWT Authentication
JWT_SECRET="your-super-secret-jwt-key-here-change-in-production"
JWT_EXPIRES_IN="24h"
REFRESH_TOKEN_EXPIRES_IN="7d"

# App Configuration
NODE_ENV="development"
PORT=5000

FRONTEND_URL="http://localhost:3000"

# ==============================================
# VIDEO CONSULTATION - WEBRTC CONFIGURATION
# ==============================================

# STUN/TURN Servers for NAT Traversal
STUN_SERVER_URL="stun:stun.l.google.com:19302"
TURN_SERVER_URL="turn:your-turn-server.com:3478"
TURN_USERNAME="your_turn_username"
TURN_PASSWORD="your_turn_password"

# WebRTC Configuration
WEBRTC_DEFAULT_QUALITY="medium"
WEBRTC_SIMULCAST_ENABLED="true"
WEBRTC_MAX_BITRATE="2500000"

# ==============================================
# RECORDING STORAGE CONFIGURATION
# ==============================================

# AWS S3 Configuration (Primary Storage)
AWS_ACCESS_KEY_ID="AKIA..."
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="wakili-recordings-production"

# CloudFlare R2 Configuration (Backup Storage)
CLOUDFLARE_R2_ACCESS_KEY="your-r2-access-key"
CLOUDFLARE_R2_SECRET_KEY="your-r2-secret-key"
CLOUDFLARE_R2_ENDPOINT="https://your-account-id.r2.cloudflarestorage.com"
CLOUDFLARE_R2_BUCKET="wakili-recordings-backup"

# Local Storage Configuration (Fallback)
LOCAL_STORAGE_PATH="./uploads/recordings"
RECORDING_MAX_DURATION="7200"  # 2 hours in seconds

# ==============================================
# FIREBASE PUSH NOTIFICATIONS
# ==============================================

# Firebase Configuration for Mobile Push Notifications
FIREBASE_PROJECT_ID="wakili-pro-app"
FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"wakili-pro-app"}'

# ==============================================
# PAYMENT INTEGRATIONS
# ==============================================

# Stripe Configuration
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# M-Pesa Daraja API Configuration (Kenya)
# Get credentials from: https://developer.safaricom.co.ke/
# Sandbox (Test): Use provided test credentials
# Production: Register business and get live credentials

MPESA_CONSUMER_KEY="your-mpesa-consumer-key"
MPESA_CONSUMER_SECRET="your-mpesa-consumer-secret"
MPESA_SHORTCODE="174379"  # Paybill/Till Number (sandbox: 174379)
MPESA_PASSKEY="bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919"  # Sandbox passkey
MPESA_ENVIRONMENT="sandbox"  # "sandbox" or "production"

# Callback URLs (must be publicly accessible HTTPS URLs)
MPESA_CALLBACK_URL="https://your-backend-url.com/api/payments/mpesa/callback"
MPESA_TIMEOUT_URL="https://your-backend-url.com/api/payments/mpesa/timeout"
MPESA_RESULT_URL="https://your-backend-url.com/api/payments/mpesa/result"

# Optional: For B2B, B2C, Account Balance, etc.
MPESA_INITIATOR_NAME="testapi"
MPESA_SECURITY_CREDENTIAL="your-security-credential"

# ==============================================
# PERFORMANCE MONITORING
# ==============================================

# Performance Testing Configuration
PERFORMANCE_TESTING_ENABLED="true"
PERFORMANCE_MAX_PARTICIPANTS="100"
PERFORMANCE_TEST_DURATION="300000"
LOG_LEVEL="info"

# ==============================================
# EMAIL SERVICES
# ==============================================

# Email Configuration (SMTP)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT="587"
EMAIL_USER="noreply@wakili-pro.com"
EMAIL_PASS="your-email-app-password"
EMAIL_FROM="Wakili Pro <noreply@wakilipro.com>"
# UPLOAD_PATH="./uploads"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# AI SERVICES & RAG CONFIGURATION
# ==============================================

# OpenAI Configuration
OPENAI_API_KEY="your-openai-api-key-here-get-from-platform.openai.com"
OPENAI_EMBEDDING_MODEL="text-embedding-3-small"
OPENAI_CHAT_MODEL_COMPLEX="gpt-4"
OPENAI_CHAT_MODEL_SIMPLE="gpt-3.5-turbo"

# Pinecone Vector Database
PINECONE_API_KEY="your-pinecone-api-key-here-get-from-app.pinecone.io"
PINECONE_ENVIRONMENT="us-east-1-aws"
PINECONE_INDEX_NAME="wakili-legal-kb"

# RAG Configuration
CHUNK_SIZE="1000"
CHUNK_OVERLAP="200"
MAX_RETRIEVAL_DOCS="5"
SIMILARITY_THRESHOLD="0.7"
HIGH_CONFIDENCE_THRESHOLD="0.85"

# AI Cost Optimization
USE_GPT35_FOR_HIGH_CONFIDENCE="true"
ENABLE_QUERY_CACHING="true"
CACHE_TTL_SECONDS="3600"